<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Nouveau ticket</title>

  <style>
    :root {
      --bg: #f9fafb;
      --fg: #111827;
      --accent: #2563eb;
      --border: #d1d5db;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, Arial, sans-serif;
      background: var(--bg);
      color: var(--fg);
      display: flex;
      min-height: 100vh;
      align-items: center;
      justify-content: center;
      padding: 1.5rem;
    }

    .card {
      background: #fff;
      padding: 2rem 2.5rem;
      border: 1px solid var(--border);
      border-radius: 8px;
      width: 100%;
      max-width: 480px;
      box-shadow: 0 1px 3px rgba(0,0,0,.08);
    }

    h1 {
      margin-top: 0;
      margin-bottom: 1.25rem;
      text-align: center;
      color: var(--accent);
      font-size: 1.6rem;
    }

    label { display: block; font-weight: 600; margin-bottom: .25rem; }

    select, input, textarea {
      width: 100%;
      padding: .6rem .75rem;
      border: 1px solid var(--border);
      border-radius: 6px;
      margin-bottom: 1rem;
      font-size: 1rem;
    }

    button {
      display: block;
      width: 100%;
      padding: .75rem;
      background: var(--accent);
      color: #fff;
      border: none;
      border-radius: 6px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: background .15s;
    }

    button:hover { background: #1e4fcb; }
    button:active { background: #193eab; }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #1f2937;
        --fg: #f9fafb;
        --border: #374151;
      }
      body { background: var(--bg); color: var(--fg); }
      .card { background: #111827; border-color: var(--border); }
      select, input, textarea { background: #1f2937; color: var(--fg); border-color: var(--border); }
    }
  </style>
</head>

<body>
  <form class="card" action="/submit" method="post" novalidate>
    <h1>Créer un ticket</h1>

    <label for="type_select">Type de demande</label>
    <select id="type_select" name="type_id" required>
      <% types.forEach(t => { %>
        <option value="<%= t.id %>"><%= t.name %></option>
      <% }) %>
    </select>

    <label for="email_input">Adresse e-mail</label>
    <input id="email_input" type="email" name="email" placeholder="ex. alice@example.com" required />

    <label for="msg_input">Message</label>
    <textarea id="msg_input" name="message" rows="5" placeholder="Décrivez votre problème ou question…" required></textarea>

    <button type="submit">Envoyer</button>
  </form>
</body>
</html>
